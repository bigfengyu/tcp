webpackJsonp([2,0],[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var A=n(47),s=i(A),r=n(165),o=i(r),a=n(162),u=i(a);n(66),n(73),n(31);var d=n(30);i(d);window.eventHub=new s.default,s.default.use(u.default),new s.default({el:"#app",template:"<App/>",components:{App:o.default}})},,,,,,,,,,,,,,,,,function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){e.exports=!n(50)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={timelinePadTop:20}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Message=t.MessageLength=void 0;var A=n(17),s=i(A),r=t.MessageLength=function e(){(0,s.default)(this,e)};r.srcPort=16,r.distPort=16,r.seqNum=32,r.ackNum=32,r.headerLength=4,r.flags=6,r.receiveWindow=16,r.checksum=16,r.UrgentPointer=16,r.options=-1,r.data=-1;t.Message=function e(){(0,s.default)(this,e),this.checksum="match"}},,,,,,,,,function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";function i(e,t,n,i,A){var s=1,r=!1,o=void 0,a=void 0,u=void 0,d=void 0,c=void 0,l=void 0,f=t.endTime-t.begTime;t.loseTime&&t.loseTime!=-1&&t.loseTime<=n&&(r=!0,s=(t.loseTime-t.begTime)/f);var h=Math.min(s,(n-t.begTime)/f),m=100,v=(t.endTime-t.begTime)*i;d=t.begTime*i,c=d+v*h,"lr"===t.direct?(o="#66bb6a",a=0,u=a+m*h-2,l=Math.atan(v/m)/Math.PI*180+90):(o="#880000",a=m,u=a-m*h+2,l=Math.atan(m/v)/Math.PI*180+180),A&&(o="#777");var g=e("path",{class:"line line"+t.order,attrs:{d:"M"+a+","+d+"L"+u+","+c,stroke:o,"stroke-width":.5}}),p=e("path",{class:"hoverline hoverline"+t.order,attrs:{d:"M"+a+","+d+"L"+u+","+c,stroke:"transparent","stroke-width":5}}),T=e("path",{class:"arrow arrow"+t.order,attrs:{d:"M-1 0 L0 -2 L1 0 z",fill:o,stroke:"none",transform:"translate("+u+","+c+") rotate("+l+")"}}),w=e("path",{class:"arrow arrow"+t.order,attrs:{d:"M-1 -1 L1 1 M1 -1 L-1 1 z",stroke:o,transform:"translate("+u+","+c+") rotate("+l+")","stroke-width":.5}}),b=r?w:T,C=e("g",{class:"arrowline arrowline"+t.order,on:{mouseover:function(){eventHub.$emit("mouseoverMessage",t.order)},mouseleave:function(){eventHub.$emit("mouseleaveMessage",t.order)},click:function(e){eventHub.$emit("clickMessage",e,t)}}},[g,p,b]);return C}Object.defineProperty(t,"__esModule",{value:!0}),n(31),t.default={name:"Transcanvas",props:{lines:{required:!0},nowTime:{required:!0},secInterScale:{required:!0},hoveredOrder:{default:-1}},functional:!0,render:function(e,t){for(var n=[],A=0;A<t.props.lines.length;++A){var s=t.props.lines[A];if(s.begTime<t.props.nowTime){var r=s.order===t.props.hoveredOrder;n.push(i(e,s,t.props.nowTime,t.props.secInterScale,r))}}return e("svg",{attrs:{id:"svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMinYMin"},style:{width:"100%",height:"100%"}},n)}}},function(e,t){},,,,,,,,,,,,,,,function(e,t,n){var i,A;n(67),i=n(59);var s=n(173);A=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(A=i=i.default),"function"==typeof A&&(A=A.options),A.render=s.render,A.staticRenderFns=s.staticRenderFns,A._scopeId="data-v-0ee305d7",e.exports=i},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var A=n(183),s=i(A);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,s.default)(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var i=n(186),A=n(191),s=n(193),r=Object.defineProperty;t.f=n(18)?Object.defineProperty:function(e,t,n){if(i(e),t=s(t,!0),i(n),A)try{return r(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var A=n(166),s=i(A),r=n(7),o=i(r),a=n(63),u=(n(20),n(65)),d=n(64),c=n(62),l={normal:.9,lose:.05,deffered:.05,corrupt:0},f=123,h=456,m=void 0,v=void 0,g=void 0;t.default={name:"AbstractApp",components:{App:s.default},data:function(){return{lines:[],nowTime:0}},created:function(){eventHub.$on("updateTime",this.updateTime),eventHub.$on("backTime",this.backTime),eventHub.$on("resetNet",this.init),eventHub.$on("sendMessage",this.sendMessage),eventHub.$on("makeSegmentLose",this.makeSegmentLose),this.init()},methods:{updateTime:function(e){this.nowTime=e,m.nowTime=e,v.nowTime=e,g.nowTime=e,m.update(),v.update(),g.update()},init:function(){console.log("**init**"),this.lines=[];var e=this;m=new a.FakeNetwork(l,.08,.005,function(t){e.lines.push((0,u.segment2Line)(t,f,h))}),v=new d.FakeTCP(f,m,[],{sendWindowChange:function(e,t,n,i){eventHub.$emit("sendWindowChange",e,t,n,i)},receiveWindowChange:function(e,t){},sendMessage:function(e){console.log("L send",e)},receiveMessage:function(e){console.log("L receive",e)},timeout:function(e,t){console.log("L timeout")},startTimer:function(e){},stopTimer:function(e){}}),g=new d.FakeTCP(h,m,[],{sendWindowChange:function(e,t,n,i){},receiveWindowChange:function(e,t){eventHub.$emit("receiveWindowChange",e,t)},sendMessage:function(e){console.log("R send",e)},receiveMessage:function(e){console.log("R receive",e)},timeout:function(e,t){},startTimer:function(e){},stopTimer:function(e){}}),v.connect(h),g.connect(f),eventHub.$emit("sendWindowChange",v.sendWindow,v.baseSeqNum,v.nextSeqNum,v.slideSize),eventHub.$emit("receiveWindowChange",g.receiveWindow,g.nextAckNum)},sendMessage:function(e){if("left"===e){var t=new c.FakeData(this.nowTime,"LEFT MESSAGE","random");v.send(t)}else if("right"===e){var n=new c.FakeData(this.nowTime,"RIGHT MESSAGE","random");g.send(n)}},makeSegmentLose:function(e,t){this.lines[e].loseTime=t,m.segments[e].transState="lose",m.segments[e].loseTime=t,this.backTime(t)},backTime:function(e){var t=o.default.filter(m.segments,function(t){return e>=t.begTime}).map(function(e){return e.hasSent=!1,e});m=new a.FakeNetwork(m.transStatesP,m.RTT,m.bias,m.newTransCallBack,t.length),m.segments=t;var n=v.sendWindow,i=g.sendWindow;v=new d.FakeTCP(v.port,m,[],v.callbacks),g=new d.FakeTCP(g.port,m,[],g.callbacks),v.connect(g.port),g.connect(v.port);var A=0;this.updateTime(A);do A+=3e-4,A=Math.min(A,e),this.updateTime(A),o.default.remove(n,function(e){return A>=e.data.addTime}).forEach(function(e){return v.send(e.data)}),o.default.remove(i,function(e){return A>=e.data.addTime}).forEach(function(e){return g.send(e.data)});while(A<e);m.ignoreCnt=0,this.lines=o.default.filter(this.lines,function(t){return e>=t.begTime}),eventHub.$emit("sendWindowChange",v.sendWindow,v.baseSeqNum,v.nextSeqNum,v.slideSize),eventHub.$emit("receiveWindowChange",g.receiveWindow,g.nextAckNum)}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var A=n(170),s=i(A),r=n(172),o=i(r),a=n(171),u=i(a),d=n(76),c=(i(d),n(157)),l=(i(c),n(154));i(l);t.default={name:"app",components:{Timeline:s.default,SendWindow:o.default,ReceiveWindow:u.default},props:{lines:{default:function(){return[]}}},data:function(){return{activeTab:"show",cutMode:!1,timerState:"stop",timeScale:100,secInterScale:500,speedSlider:{min:5,max:30,value:10},topPanelHeight:49,secInterSlider:{min:300,max:1e3,value:500},autoScroll:!0,breakMode:"infinate"}},computed:{toggleBtnText:function(){return{run:"暂停",stop:"开始",pause:"继续"}[this.timerState]},timeScale:function(){return 1e3/this.speedSlider.value},secInterScale:function(){return this.secInterSlider.value}},created:function(){eventHub.$on("timerStateChange",this.handleTimerStateChange),eventHub.$on("makeLineLose",this.makeLineLose),eventHub.$on("setCutMode",this.setCutMode)},mounted:function(){this.handleTopPanelHeightChange()},beforeDestroy:function(){eventHub.$off("timerStateChange",this.handleTimerStateChange),eventHub.$off("makeLineLose",this.makeLineLose),eventHub.$off("setCutMode",this.setCutMode)},methods:{toggleCutMode:function(){this.cutMode=!this.cutMode},setCutMode:function(e){this.cutMode=e},handleBreakModeChange:function(e){this.breakMode=e},handleTabChange:function(e){this.activeTab=e},handleTopPanelHeightChange:function(){var e=this;this.$nextTick(function(){var t=document.querySelector(".top-panel");t?e.topPanelHeight=t.clientHeight:e.topPanelHeight=49})},handleTimerStateChange:function(e){this.timerState=e,"hide"!=this.activeTab&&("stop"===e?this.activeTab="show":this.activeTab="message-window")},toggle:function(){"run"===this.timerState?eventHub.$emit("TL-pauseTimer"):eventHub.$emit("TL-startTimer")},reset:function(){eventHub.$emit("TL-resetTimer")},sendMessage:function(e){eventHub.$emit("sendMessage",e)}},watch:{activeTab:function(){this.handleTopPanelHeightChange()}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{text:{default:""},direct:{type:String,default:"lr"},color:{required:!0}},computed:{tagClass:function(){var e="tag-"+this.direct;return e}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var A=n(75),s=i(A),r=n(19);i(r);t.default={props:{nowTime:{required:!0},secInterScale:{required:!0},timerState:{required:!0},svgWidth:{required:!0,default:1},svgHeight:{required:!0,default:1}},data:function(){return{isHolding:!1}},computed:{nowTimeFixed:function(){if(this.nowTime<0){var e=0;return e.toFixed(5)}return this.nowTime.toFixed(5)}},mounted:function(){var e=this;this.$nextTick(function(){var t=!1;s.default.create("#horizontal-line",{type:"top",autoScroll:1,bounds:e.$parent.$el,onPress:function(n){"run"==e.timerState&&(eventHub.$emit("TL-pauseTimer"),t=!0),e.isHolding=!0},onRelease:function(n){t&&(eventHub.$emit("TL-startTimer"),t=!1),e.isHolding=!1;var i=e.y2time(this.y);eventHub.$emit("backTime",i)},onDrag:function(t){var n=e.y2time(this.y);eventHub.$emit("TL-setTime",Math.max(0,n))}});e.$el.style.top="10px"})},methods:{y2time:function(e){return 100*(e-10)/this.svgWidth/this.secInterScale},time2y:function(e){return e*this.secInterScale*this.svgWidth/100+10},top:function(){return this.time2y(this.nowTime)},hTimelineStyle:function(){return{top:this.top()+"px"}}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var A=n(167),s=i(A),r=n(19),o=i(r);t.default={name:"TimeTags",components:{Tag:s.default},props:{lines:{require:!0},nowTime:{require:!0},side:{require:!0},secInterScale:{require:!0},svgWidth:{require:!0,default:1},hoveredOrder:{default:-1}},computed:{direct:function(){return{left:"lr",right:"rl"}[this.side]}},methods:{onMouseover:function(e){eventHub.$emit("mouseoverMessage",e.order)},onMouseleave:function(e){eventHub.$emit("mouseleaveMessage",e.order)},lineFinishedSVGPos:function(e){var t={},n=(this.nowTime,this.secInterScale);return t.y1=e.begTime*n,t.y2=e.endTime*n,"lr"===e.direct?(t.x1=0,t.x2=98):(t.x1=100,t.x2=2),t},needShow:function(e){var t=!1;return e.loseTime&&e.loseTime!=-1&&(t=!0),"left"===this.side?"lr"===e.direct?e.begTime<this.nowTime:!t&&e.endTime<=this.nowTime:"right"===this.side?"lr"===e.direct?!t&&e.endTime<=this.nowTime:e.begTime<this.nowTime:void 0},calcY:function(e,t){var n={left:{lr:t.y1,rl:t.y2},right:{lr:t.y2,rl:t.y1}}[this.side][e.direct];return this.svgWidth*n/100},style:function e(t){var e={},n=12;return e.top=this.calcY(t,this.lineFinishedSVGPos(t))-n+o.default.timelinePadTop+"px",e[{left:"right",right:"left"}[this.side]]="0",t.order===this.hoveredOrder&&(e["z-index"]=4),e},text:function(e){var t=5;return{left:{lr:"S"+e.order+" - "+e.begTime.toFixed(t),rl:"R"+e.order+" - "+e.endTime.toFixed(t)},right:{lr:"R"+e.order+" - "+e.endTime.toFixed(t),rl:"S"+e.order+" - "+e.begTime.toFixed(t)}}[this.side][e.direct]},color:function(e){return e.order===this.hoveredOrder?"grey":"left"===this.side?"green":"right"===this.side?"red":void 0}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var A=n(169),s=i(A),r=n(30),o=i(r),a=n(168),u=i(a),d=n(74),c=(i(d),n(8)),l=i(c),f=n(7),h=i(f),m=n(19),v=i(m);t.default={name:"Timeline",components:{Transcanvas:o.default,TimeTags:s.default,TimeIndicator:u.default},props:{lines:{required:!0},secInterScale:{default:300},timeScale:{default:100},autoScroll:{default:!0},breakMode:{default:"until-end"},positionTop:{default:249},cutMode:{default:!1}},data:function(){return{hoveredOrder:-1,nowTime:0,intervalId:void 0,leftTags:[],rightTags:[],preventOrderSet:{},svgWidth:0,svgHeight:0,timerState:"stop",breakPoints:[],lastBreakPointIndex:-1,freshMs:30}},mounted:function(){var e=this;this.$nextTick(function(){window.addEventListener("resize",e.handleResize),e.handleResize()})},created:function(){eventHub.$on("TL-startTimer",this.startTimer),eventHub.$on("TL-pauseTimer",this.pauseTimer),eventHub.$on("TL-setTime",this.setTime),eventHub.$on("TL-resetTimer",this.resetTimer),eventHub.$on("mouseoverMessage",this.setHoveredOrder),eventHub.$on("mouseleaveMessage",this.clearHoveredOrder),eventHub.$on("clickMessage",this.handleClickMessage)},beforeDestroy:function(){eventHub.$off("TL-startTimer",this.startTimer),eventHub.$off("TL-pauseTimer",this.pauseTimer),eventHub.$off("TL-setTime",this.setTime),eventHub.$off("TL-resetTimer",this.resetTimer),eventHub.$off("mouseoverMessage",this.setHoveredOrder),eventHub.$off("mouseleaveMessage",this.clearHoveredOrder),eventHub.$off("clickMessage",this.handleClickMessage)},methods:{canvasWrapperStyle:function(){var e=this.$refs.timeIndicator,t=2*this.svgWidth;if(e){var n=this.$el.offsetHeight;t+=(h.default.round(e.$el.offsetTop/n)+2)*n}return this.svgHeight=t-v.default.timelinePadTop,{height:t+"px"}},scrollTo:function(e,t){var n=this;l.default.to(n.$el,t,{scrollTo:e})},handleClickMessage:function(e,t){if(this.cutMode){var n=e.layerX,i=n/this.svgWidth;"rl"===t.direct&&(i=1-i);var A=t.begTime+(t.endTime-t.begTime)*i;this.nowTime=A,eventHub.$emit("setCutMode",!1),eventHub.$emit("makeSegmentLose",t.order,A)}},handleResize:function(e){var t=document.getElementById("svg");this.svgWidth=t.clientWidth,this.svgHeight=t.clientHeight},setHoveredOrder:function(e){this.hoveredOrder=e},clearHoveredOrder:function(){this.hoveredOrder=-1},addline:function(e){this.lines.push(e)},removelineByOrder:function(e){function t(t){return t.order!=e}var n=this;eventHub.$emit("t-removeline",e),n.preventOrderSet[e]=!0,this.lines=h.default.filter(this.lines,t),this.leftTags=h.default.filter(this.leftTags,t),this.rightTags=h.default.filter(this.rightTags,t)},removeLastLine:function(){this.lines.length&&this.removeline(this.lines[this.lines.length-1].order)},freshTime:function(e){var t=e/1e3;this.nowTime+=t/this.timeScale,eventHub.$emit("updateTime",this.nowTime)},setTimerState:function(e){this.timerState!=e&&(this.timerState=e,eventHub.$emit("timerStateChange",e))},startTimer:function(){var e=this;this.setTimerState("run"),this.intervalId=setInterval(function(){e.freshTime(e.freshMs)},e.freshMs),this.hoveredOrder=-1},pauseTimer:function(){this.intervalId&&(this.intervalId=clearInterval(this.intervalId)),this.setTimerState("pause")},stopTimer:function(){this.intervalId&&(this.intervalId=clearInterval(this.intervalId)),this.setTimerState("stop")},setTime:function(e){this.nowTime=e,"stop"===this.timerState&&this.setTimerState("pause"),this.lastBreakPointIndex=h.default.sortedIndexBy(this.breakPoints,{time:e},"time")-1},resetTimer:function(){this.stopTimer(),this.nowTime=0,this.lastBreakPointIndex=-1,eventHub.$emit("resetNet"),this.scrollTo(0,.2)},handleAutoScroll:function(){if(this.autoScroll){var e=this.$el.offsetHeight,t=this.$refs.timeIndicator.$el,n=t.offsetTop,i=(n-this.$el.scrollTop)/e;"run"===this.timerState&&!t.isHolding&&i>.8&&i<1&&this.scrollTo(n,.5)}},handleBreakPoint:function(e){if(!this.$refs.timeIndicator.isHolding){var t=h.default.sortedIndexBy(this.breakPoints,{time:e},"time");if(0!==t){var n=t-1;if(!(n<=this.lastBreakPointIndex)){var i=this.breakPoints[n];"single-step"===this.breakMode?(this.hoveredOrder=i.order,this.lastBreakPointIndex=n,this.pauseTimer()):"until-end"==this.breakMode&&(this.nowTime=i.time,this.pauseTimer())}}}},setBreakPoints:function(e){if(0!==this.lines.length)if("single-step"===e)this.breakPoints=h.default.sortBy(h.default.map(this.lines,function(e){return e.loseTime&&e.loseTime!=-1?{order:e.order,time:e.loseTime}:{order:e.order,time:e.endTime}}),"time");else if("until-end"===e){var t=h.default.reduce(this.lines,function(e,t){return t.loseTime&&t.loseTime!=-1?t.loseTime<=e.time?e:{order:t.order,time:t.loseTime}:t.endTime>e.time?{order:t.order,time:t.endTime}:e},{order:0,time:0});this.breakPoints=[t]}else this.breakPoints=[]}},watch:{nowTime:function(e,t){this.handleAutoScroll(),this.handleBreakPoint(e)},lines:function(){this.setBreakPoints(this.breakMode)},breakMode:function(){this.setBreakPoints(this.breakMode)},secInterScale:function(){if(this.autoScroll){var e=this.$el.offsetHeight,t=this.$refs.timeIndicator,n=t.top();(n-this.$el.scrollTop)/e;"run"!==this.timerState||t.isHolding||this.scrollTo(n,.5)}}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{grids:{default:function(){return[{num:1,color:"yellow"}]}}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var A=n(46),s=i(A);t.default={created:function(){eventHub.$on("receiveWindowChange",this.receiveWindowChangeHandler),this.receiveWindowChangeHandler([],0)},beforeDestroy:function(){eventHub.$off("receiveWindowChange",this.receiveWindowChangeHandler)},data:function(){return{grids:[]}},methods:{receiveWindowChangeHandler:function(e,t){for(var n=200,i=[],A=0;A<e.length;++A)i.push({num:e[A].seqNum,color:"green"});i.push({num:t,color:"blue"});for(var s=i.length;s<n;++s)i.push({num:"",color:"grey"});this.grids=i}},components:{Grids:s.default}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var A=n(46),s=i(A);t.default={created:function(){eventHub.$on("sendWindowChange",this.sendWindowChangeHandler),this.sendWindowChangeHandler([],0,0,0)},beforeDestroy:function(){eventHub.$off("sendWindowChange",this.sendWindowChangeHandler)},data:function(){return{grids:[]}},methods:{sendWindowChangeHandler:function(e,t,n,i){console.log("sendWindow",e),console.log("slideSize",i);for(var A=200,s=[],r=0;r<e.length;++r){var o=e[r],a={num:o.seqNum};o.seqNum<t?a.color="green":o.seqNum>=t&&o.seqNum<n?a.color="yellow":o.seqNum===n?a.color="blue":o.seqNum>n&&o.seqNum<t+i?a.color="canary":a.color="grey",s.push(a)}(0!=e.length&&e[e.length-1].seqNum<n||0===e.length)&&s.push({num:n,color:"blue"});for(var u=s.length;u<A;++u)s.push({num:"",color:"grey"});this.grids=s}},components:{Grids:s.default}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FakeData=void 0;var A=n(17),s=i(A);t.FakeData=function e(t,n,i){(0,s.default)(this,e),this.addTime=t,this.rawData=n,this.transState=i?i:"random"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function A(e){var t,n=0,i=Math.random();for(t in e)if(n+=e[t],i<=n)return t}Object.defineProperty(t,"__esModule",{value:!0}),t.FakeNetwork=t.FakeSegment=void 0;var s=n(48),r=i(s),o=n(17),a=i(o),u=n(7),d=i(u),c=n(20),l=(i(c),["normal","lose","deffered","corrupt"]),f=t.FakeSegment=function e(t,n,i,A,s,r){(0,a.default)(this,e),this.order=t,this.message=n,this.begTime=i,this.endTime=A,this.loseTime=s,this.transState=r,this.hasSent=!1};t.FakeNetwork=function(){function e(t,n,i,A,s){(0,a.default)(this,e),this.nowTime=0,this.segments=[],this.segmentsState=[],this.sockets={},this.RTT=n,this.bias=i,this.newTransCallBack=A,this.ignoreCnt="number"==typeof s?s:0,this.transStatesP=d.default.pick(t,l)}return(0,r.default)(e,[{key:"accept",value:function(e){this.sockets[e.port]=e}},{key:"update",value:function(){this.deliever()}},{key:"deliever",value:function(){var e=this,t=this.sockets,n=this.segments;d.default.filter(n,function(t){return!t.hasSent&&e.nowTime>=t.endTime}).forEach(function(e){if("lose"!=e.transState){var n=e.message;d.default.has(t,n.distPort)&&(e.hasSent=!0,t[n.distPort].receive(n))}else e.hasSent=!0})}},{key:"makeLoseSegment",value:function(e,t){var n=(this.RTT+d.default.random(-this.bias,this.bias,!0))/2,i=this.nowTime+d.default.random(0,n,!0),A=new f(t,e,this.nowTime,this.nowTime+n,i,"lose");return A}},{key:"makeDefferedSegment",value:function(e,t){var n=this.RTT/2*d.default.random(1.5,2.5,!0),i=new f(t,e,this.nowTime,this.nowTime+n,-1,"deffered");return i}},{key:"makeCorruptSegment",value:function(e,t){e.checksum="unmatch";var n=(this.RTT+d.default.random(-this.bias,this.bias))/2,i=new f(t,e,this.nowTime,this.nowTime+n,-1,"corrupt");return i}},{key:"makeNormalSegment",value:function(e,t){var n=(this.RTT+d.default.random(-this.bias,this.bias))/2,i=new f(t,e,this.nowTime,this.nowTime+n,-1,"normal");return i}},{key:"send",value:function(e){var t=this;if(this.ignoreCnt>0)return void(this.ignoreCnt-=1);var n={normal:t.makeNormalSegment.bind(t),lose:t.makeLoseSegment.bind(t),deffered:t.makeDefferedSegment.bind(t),corrupt:t.makeCorruptSegment.bind(t)},i=e.data&&"random"!=e.data.transState?e.data.transState:A(this.transStatesP),s=n[i](e,this.segments.length);this.newTransCallBack(s),this.segments.push(s)}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FakeTCP=void 0;var A=n(48),s=i(A),r=n(17),o=i(r),a=n(20),u=n(7),d=i(u),c=function e(t,n){(0,o.default)(this,e),this.time=t,this.callback=n};t.FakeTCP=function(){function e(t,n,i,A){(0,o.default)(this,e),this.init(t,n,i,A)}return(0,s.default)(e,[{key:"init",value:function(e,t,n,i){this.cacheDisorderedMessage=!1,this.innerInterval=.01,this.timeoutInterval=t.RTT+2*t.bias,this.port=e,this.toPort=void 0,this.callbacks={sendWindowChange:function(e,t,n){},receiveWindowChange:function(e,t){},sendMessage:function(e){},receiveMessage:function(e){},timeout:function(e,t){},startTimer:function(e){},stopTimer:function(e){}},this.waits=[],this.callbacks=d.default.mapValues(this.callbacks,function(e,t){return d.default.isFunction(i[t])?i[t]:e}),this.network=t,t.accept(this),this.startTime=-1,this.nowTime=0,this.receiveWindow=[],this.nextAckNum=0,this.nextSeqNum=0,this.baseSeqNum=0,this.slideSize=10,this.sendWindow=[];for(var A=0;A<n.length;++A)this.sendWindow.push(this.messageFactory(A,-1,n[A]));this.send_next=0}},{key:"send",value:function(e){this.sendWindow.push(this.messageFactory(this.sendWindow.length,-1,e)),this.callbacks.sendWindowChange(this.sendWindow,this.baseSeqNum,this.nextSeqNum,this.slideSize)}},{key:"wait",value:function(e,t){console.log("this.nowTime + delay",this.nowTime+t),this.waits.push(new c(this.nowTime+t,e))}},{key:"triggerWaits",value:function(){for(var e=0;0!=this.waits.length;){var t=this.waits[0];if(!(this.nowTime>=t.time))break;this.waits.shift(),e+=1,t.callback()}return e}},{key:"messageFactory",value:function(e,t,n){var i=new a.Message;return i.srcPort=this.port,i.distPort=this.toPort,i.seqNum=e,i.ackNum=t,i.data=n,i}},{key:"udt_send",value:function(e){this.callbacks.sendMessage(e),this.network.send(e),e.data&&(e.data.transState="random")}},{key:"update",value:function(){this.triggerTimeout(),0!=this.waits.length?this.triggerWaits():this.sendNextAllData()}},{key:"connect",value:function(e){this.toPort=e}},{key:"startTimer",value:function(){this.callbacks.startTimer(this.nowTime),this.startTime=this.nowTime}},{key:"stopTimer",value:function(){this.callbacks.stopTimer(this.nowTime),this.startTime=-1}},{key:"sendNextAllData",value:function(){function e(){t.sendNextData()&&t.wait(e,t.innerInterval)}var t=this;e()}},{key:"sendNextData",value:function(){if(this.nextSeqNum>=this.sendWindow.length)return!1;if(this.nextSeqNum<this.baseSeqNum+this.slideSize){this.baseSeqNum===this.nextSeqNum&&this.startTimer();var e=this.sendWindow[this.nextSeqNum];return e.ackNum=this.nextAckNum,this.udt_send(e),this.nextSeqNum+=1,this.callbacks.sendWindowChange(this.sendWindow,this.baseSeqNum,this.nextSeqNum,this.slideSize),!0}return!1}},{key:"triggerTimeout",value:function(){this.startTime!=-1&&this.nowTime-this.startTime>this.timeoutInterval&&this.timeout()}},{key:"timeout",value:function(){var e=this;this.callbacks.timeout(this.startTime,this.nowTime),this.startTimer();for(var t=this,n=function(n,i){var A=e.sendWindow[n];e.wait(function(){t.udt_send(A)},e.innerInterval*i)},i=this.baseSeqNum,A=0;i<this.nextSeqNum;++i,++A)n(i,A)}},{key:"isCorrupt",value:function(e){return"unmatch"===e.checksum}},{key:"sendAck",value:function(){if(!this.sendNextData()){var e=0===this.nextSeqNum?0:this.nextSeqNum-1,t=this.messageFactory(e,this.nextAckNum);this.udt_send(t)}}},{key:"slideSendWindowTo",value:function(e){this.baseSeqNum=e,this.callbacks.sendWindowChange(this.sendWindow,this.baseSeqNum,this.nextSeqNum,this.slideSize)}},{key:"receive",value:function(e){this.callbacks.receiveMessage(e),this.isCorrupt(e)?this.sendAck():(e.ackNum>this.baseSeqNum&&this.slideSendWindowTo(e.ackNum),this.baseSeqNum===this.nextSeqNum?this.stopTimer():this.startTimer(),e.data&&""!=e.data?e.seqNum===this.nextAckNum?(this.receiveWindow.push(e),this.nextAckNum+=1,this.sendAck(),this.callbacks.receiveWindowChange(this.receiveWindow,this.nextAckNum),console.log(this.port,"valid message",e.seqNum,this.nextAckNum)):(console.log(this.port,"notvalid message",e.seqNum,this.nextAckNum),this.sendAck()):console.log(this.port,"pure Ack message"))}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n){return o.default.map(e,function(e){return s(e,t,n)})}function s(e,t,n){var i={};return i.order=e.order,i.begTime=e.begTime,i.endTime=e.endTime,i.loseTime=e.loseTime,e.message.srcPort===t?i.direct="lr":e.message.srcPort===n?i.direct="rl":i.direct=void 0,i}Object.defineProperty(t,"__esModule",{value:!0}),t.segments2Lines=A,t.segment2Line=s;var r=n(7),o=i(r)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/img/client.c3ac37a.png"},function(e,t){e.exports="data:image/png;base64,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";
},function(e,t,n){var i,A;i=n(53);var s=n(174);A=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(A=i=i.default),"function"==typeof A&&(A=A.options),A.render=s.render,A.staticRenderFns=s.staticRenderFns,e.exports=i},function(e,t,n){var i,A;n(71),i=n(54);var s=n(180);A=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(A=i=i.default),"function"==typeof A&&(A=A.options),A.render=s.render,A.staticRenderFns=s.staticRenderFns,e.exports=i},function(e,t,n){var i,A;n(70),i=n(55);var s=n(178);A=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(A=i=i.default),"function"==typeof A&&(A=A.options),A.render=s.render,A.staticRenderFns=s.staticRenderFns,e.exports=i},function(e,t,n){var i,A;n(69),i=n(56);var s=n(177);A=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(A=i=i.default),"function"==typeof A&&(A=A.options),A.render=s.render,A.staticRenderFns=s.staticRenderFns,e.exports=i},function(e,t,n){var i,A;n(68),i=n(57);var s=n(175);A=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(A=i=i.default),"function"==typeof A&&(A=A.options),A.render=s.render,A.staticRenderFns=s.staticRenderFns,A._scopeId="data-v-145b1500",e.exports=i},function(e,t,n){var i,A;n(72),i=n(58);var s=n(181);A=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(A=i=i.default),"function"==typeof A&&(A=A.options),A.render=s.render,A.staticRenderFns=s.staticRenderFns,e.exports=i},function(e,t,n){var i,A;i=n(60);var s=n(179);A=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(A=i=i.default),"function"==typeof A&&(A=A.options),A.render=s.render,A.staticRenderFns=s.staticRenderFns,e.exports=i},function(e,t,n){var i,A;i=n(61);var s=n(176);A=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(A=i=i.default),"function"==typeof A&&(A=A.options),A.render=s.render,A.staticRenderFns=s.staticRenderFns,e.exports=i},function(e,t){e.exports={render:function(){var e=this,t=(e.$createElement,e._c);return t("div",{staticClass:"message-window clearfix"},e._l(e.grids,function(n,i){return t("div",{class:["grid",n.color]},[t("div",{staticClass:"text noselect"},[e._v("\n      "+e._s(n.num)+"\n    ")])])}))},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=(e.$createElement,e._c);return t("div",{staticClass:"abstract-app"},[t("App",{attrs:{lines:e.lines}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=(e.$createElement,e._c);return t("div",{staticClass:"vtags"},[t("transition-group",{attrs:{name:"timetags-"+e.side}},e._l(e.lines,function(n,i){return e.needShow(n)?t("Tag",{key:n.order,class:["tag"+n.order],style:e.style(n),attrs:{text:e.text(n),color:e.color(n),direct:e.direct},nativeOn:{mouseover:function(t){e.onMouseover(n)},mouseleave:function(t){e.onMouseleave(n)}}}):e._e()}))])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=(e.$createElement,e._c);return t("Grids",{attrs:{grids:e.grids}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=(e.$createElement,e._c);return t("div",{staticClass:"horizontal-line drabble",style:e.hTimelineStyle(),attrs:{id:"horizontal-line"}},[t("mu-row",{staticClass:"top-row"},[t("mu-col",{staticClass:"left",attrs:{desktop:"25",tablet:"15",width:"15"}}),e._v(" "),t("mu-col",{staticClass:"center",attrs:{desktop:"50",tablet:"70",width:"70"}}),e._v(" "),t("mu-col",{staticClass:"right",attrs:{desktop:"25",tablet:"15",width:"15"}})]),e._v(" "),t("mu-row",{staticClass:"bottom-row"},[t("mu-col",{staticClass:"left",attrs:{desktop:"25",tablet:"15",width:"15"}},[t("span",{staticClass:"time-indicator"},[e._v(e._s(e.nowTimeFixed))])]),e._v(" "),t("mu-col",{staticClass:"center",attrs:{desktop:"50",tablet:"70",width:"70"}}),e._v(" "),t("mu-col",{staticClass:"right",attrs:{desktop:"25",tablet:"15",width:"15"}})])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=(e.$createElement,e._c);return t("div",{staticClass:"tag",class:e.tagClass},[t("a",{class:[e.color]},[e._v(e._s(e.text))])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=(e.$createElement,e._c);return t("Grids",{attrs:{grids:e.grids}})},staticRenderFns:[]}},function(e,t,n){e.exports={render:function(){var e=this,t=(e.$createElement,e._c);return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"showtcp"},[t("div",{staticClass:"top-panel"},[t("mu-tabs",{attrs:{value:e.activeTab},on:{change:e.handleTabChange}},[t("mu-tab",{attrs:{value:"show",title:"展示"}}),e._v(" "),t("mu-tab",{attrs:{value:"message-window",title:"窗口"}})]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:"show"===e.activeTab,expression:"activeTab === 'show'"}],staticClass:"tab show-tab clearfix"},[t("div",{staticClass:"icons-tab"},[t("mu-row",{attrs:{gutter:""}},[t("mu-col",{staticClass:"icon-col",staticStyle:{"padding-top":"20px"},attrs:{desktop:"50",tablet:"50",width:"50"}},[t("img",{staticClass:"client-icon",attrs:{height:"86",src:n(164)}}),e._v(" "),t("p",{staticStyle:{position:"relative",top:"4px"}},[e._v("发送方")])]),e._v(" "),t("mu-col",{staticClass:"icon-col",staticStyle:{"padding-top":"10px"},attrs:{desktop:"50",tablet:"50",width:"50"}},[t("img",{staticClass:"server-icon",attrs:{height:"100",src:n(163)}}),e._v(" "),t("p",[e._v("接收方")])])]),e._v(" "),t("mu-flat-button",{staticClass:"fold-button",attrs:{label:"收起",primary:""},on:{click:function(t){e.handleTabChange("hide")}}})])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:"message-window"===e.activeTab,expression:"activeTab === 'message-window'"}],staticClass:"tab message-window-tab clearfix"},[t("mu-row",{staticClass:"message-window-row",attrs:{gutter:""}},[t("mu-col",{staticClass:"send-window-col",attrs:{desktop:"50",tablet:"50",width:"50"}},[t("h2",{staticClass:"message-window-text"},[e._v("发送方发送窗口")]),e._v(" "),t("div",{staticClass:"message-window-wrapper"},[t("send-window")])]),e._v(" "),t("mu-col",{staticClass:"receive-window-col",attrs:{desktop:"50",tablet:"50",width:"50"}},[t("h2",{staticClass:"message-window-text"},[e._v("接收方接收窗口")]),e._v(" "),t("div",{staticClass:"message-window-wrapper"},[t("receive-window")])])]),e._v(" "),t("mu-flat-button",{staticClass:"fold-button",attrs:{label:"收起",primary:""},on:{click:function(t){e.handleTabChange("hide")}}})]),e._v(" "),t("mu-divider")]),e._v(" "),t("Timeline",{class:{"timeline-cut-mode":e.cutMode},attrs:{cutMode:e.cutMode,"position-top":e.topPanelHeight,lines:e.lines,secInterScale:e.secInterScale,timeScale:e.timeScale,autoScroll:e.autoScroll,breakMode:e.breakMode}}),e._v(" "),t("div",{staticClass:"controlbar clearfix"},[t("div",{staticClass:"btns controlbar-left"},[t("mu-raised-button",{staticClass:"btn",attrs:{label:e.toggleBtnText,primary:""},on:{click:e.toggle}}),e._v(" "),t("mu-raised-button",{staticClass:"btn",attrs:{label:"发送报文",primary:""},on:{click:function(t){e.sendMessage("left")}}}),e._v(" "),t("mu-raised-button",{staticClass:"btn",attrs:{label:"重置",primary:""},on:{click:e.reset}}),e._v(" ")]),e._v(" "),t("div",{staticClass:"controlbar-right clearfix",staticStyle:{float:"right"}},[t("div",{staticClass:"controlbar-right-item slider speed-slider"},[t("span",{staticStyle:{position:"relative",top:"8px"}},[e._v("速度")]),e._v(" "),t("mu-slider",{directives:[{name:"model",rawName:"v-model",value:e.speedSlider.value,expression:"speedSlider.value"}],staticStyle:{margin:"0"},attrs:{min:e.speedSlider.min,max:e.speedSlider.max},domProps:{value:e.speedSlider.value},on:{input:function(t){e.speedSlider.value=t}}})]),e._v(" "),t("div",{staticClass:"controlbar-right-item slider sec-inter-slider"},[t("span",{staticStyle:{position:"relative",top:"8px"}},[e._v("间距")]),e._v(" "),t("mu-slider",{directives:[{name:"model",rawName:"v-model",value:e.secInterSlider.value,expression:"secInterSlider.value"}],staticStyle:{"margin-bottom":"0"},attrs:{min:e.secInterSlider.min,max:e.secInterSlider.max},domProps:{value:e.secInterSlider.value},on:{input:function(t){e.secInterSlider.value=t}}})]),e._v(" "),t("mu-icon-button",{staticClass:"controlbar-right-item cut-btn",style:{color:e.cutMode?"#880000":"#777"},attrs:{icon:"content_cut"},on:{click:function(t){e.toggleCutMode()}}}),e._v(" "),t("div",{staticClass:"controlbar-right-item switchers"},[t("mu-switch",{directives:[{name:"model",rawName:"v-model",value:e.autoScroll,expression:"autoScroll"}],staticClass:"switcher",attrs:{label:"自动滚动"},domProps:{value:e.autoScroll},on:{input:function(t){e.autoScroll=t}}})]),e._v(" "),t("div",{staticClass:"controlbar-right-item menus clearfix"},[t("mu-dropDown-menu",{staticClass:"menu",attrs:{value:e.breakMode},on:{change:e.handleBreakModeChange}},[t("mu-menu-item",{attrs:{value:"until-end",title:"画完"}}),e._v(" "),t("mu-menu-item",{attrs:{value:"single-step",title:"单步"}}),e._v(" "),t("mu-menu-item",{attrs:{value:"infinate",title:"无尽"}})])])])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=(e.$createElement,e._c);return t("div",{staticClass:"timeline",style:{top:e.positionTop+"px"}},[t("mu-row",{staticClass:"timeline-scroll"},[t("TimeIndicator",{ref:"timeIndicator",attrs:{"now-time":e.nowTime,"sec-inter-scale":e.secInterScale,"timer-state":e.timerState,"svg-width":e.svgWidth,"svg-height":e.svgHeight}}),e._v(" "),t("mu-col",{staticClass:"timeline-left",attrs:{desktop:"25",tablet:"15",width:"15"}},[t("time-tags",{attrs:{side:"left",lines:e.lines,"now-time":e.nowTime,"sec-inter-scale":e.secInterScale,"svg-width":e.svgWidth,hoveredOrder:e.hoveredOrder}})]),e._v(" "),t("mu-col",{staticClass:"canvas-wrapper",style:e.canvasWrapperStyle(),attrs:{desktop:"50",tablet:"70",width:"70"}},[t("Transcanvas",{attrs:{id:"svg",lines:e.lines,"sec-inter-scale":e.secInterScale,"now-time":e.nowTime,hoveredOrder:e.hoveredOrder}})]),e._v(" "),t("mu-col",{staticClass:"timeline-right",attrs:{desktop:"25",tablet:"15",width:"15"}},[t("time-tags",{attrs:{side:"right",lines:e.lines,"now-time":e.nowTime,"sec-inter-scale":e.secInterScale,"svg-width":e.svgWidth,hoveredOrder:e.hoveredOrder}})])])])},staticRenderFns:[]}},,function(e,t,n){e.exports={default:n(184),__esModule:!0}},function(e,t,n){n(194);var i=n(49).Object;e.exports=function(e,t,n){return i.defineProperty(e,t,n)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var i=n(29);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var i=n(185);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,A){return e.call(t,n,i,A)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var i=n(29),A=n(51).document,s=i(A)&&i(A.createElement);e.exports=function(e){return s?A.createElement(e):{}}},function(e,t,n){var i=n(51),A=n(49),s=n(187),r=n(190),o="prototype",a=function(e,t,n){var u,d,c,l=e&a.F,f=e&a.G,h=e&a.S,m=e&a.P,v=e&a.B,g=e&a.W,p=f?A:A[t]||(A[t]={}),T=p[o],w=f?i:h?i[t]:(i[t]||{})[o];f&&(n=t);for(u in n)d=!l&&w&&void 0!==w[u],d&&u in p||(c=d?w[u]:n[u],p[u]=f&&"function"!=typeof w[u]?n[u]:v&&d?s(c,i):g&&w[u]==c?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t[o]=e[o],t}(c):m&&"function"==typeof c?s(Function.call,c):c,m&&((p.virtual||(p.virtual={}))[u]=c,e&a.R&&T&&!T[u]&&r(T,u,c)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,e.exports=a},function(e,t,n){var i=n(52),A=n(192);e.exports=n(18)?function(e,t,n){return i.f(e,t,A(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports=!n(18)&&!n(50)(function(){return 7!=Object.defineProperty(n(188)("div"),"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(29);e.exports=function(e,t){if(!i(e))return e;var n,A;if(t&&"function"==typeof(n=e.toString)&&!i(A=n.call(e)))return A;if("function"==typeof(n=e.valueOf)&&!i(A=n.call(e)))return A;if(!t&&"function"==typeof(n=e.toString)&&!i(A=n.call(e)))return A;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var i=n(189);i(i.S+i.F*!n(18),"Object",{defineProperty:n(52).f})}]);